name: Runner Sanity Demo
run-name: ${{ github.actor }} is testing self-hosted runner ğŸš€

on:
  workflow_dispatch: {}          # Actions íƒ­ì—ì„œ ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥
  push:
    branches: [ master ]         # ì‹¤ì œ ê¸°ë³¸ ë¸Œëœì¹˜ê°€ mainì´ë©´ mainìœ¼ë¡œ

jobs:
  Explore-Self-Hosted:
    runs-on: [self-hosted, Windows, x64]   # ë„¤ ëŸ¬ë„ˆ ë¼ë²¨ê³¼ ë§ì¶°!
    defaults:
      run:
        shell: pwsh                  # PowerShellë¡œ í†µì¼

    steps:
      - name: Echo event & runner info
        run: |
          echo "ğŸ‰ Trigger: ${{ github.event_name }}"
          echo "ğŸ–¥ï¸ Runner OS: ${{ runner.os }}"
          echo "ğŸ” Ref: ${{ github.ref }}"
          echo "ğŸ“¦ Repo: ${{ github.repository }}"
          echo "ğŸ‘¤ Actor: ${{ github.actor }}"
          echo "ğŸ·ï¸ Job Name: $env:GITHUB_JOB"
          echo "ğŸ“‚ Workspace: $env:GITHUB_WORKSPACE"
          echo "ğŸ§‘ User: $(whoami)"
          echo "ğŸ§± Computer: $env:COMPUTERNAME"
          echo "ğŸ§® Arch: $env:PROCESSOR_ARCHITECTURE"
          $PSVersionTable.PSVersion

      - name: Print PATH and where git
        run: |
          $env:PATH -split ';' | ForEach-Object { Write-Host $_ }
          where.exe git
          git --version

      - name: TLS test to github.com:443
        run: |
          Test-NetConnection github.com -Port 443

      - name: Check out repository code
        uses: actions/checkout@v4

      - name: List files in workspace
        run: |
          Get-ChildItem -Force $env:GITHUB_WORKSPACE | Format-List

      - name: Final status
        run: echo "ğŸ Job status is ${{ job.status }}."
